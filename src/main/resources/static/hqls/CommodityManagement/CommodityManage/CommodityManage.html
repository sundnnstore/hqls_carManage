<link rel="stylesheet" href="common/zTree/css/zTreeStyle.css" type="text/css">
<link rel="stylesheet" href="CommodityManagement/CommodityManage/CommodityManage.css">
<link href="common/zTree/css/zTreeStyle.css"></link>

<div class="commodity">
    商品管理
    <!-- 商品信息搜索 && 添加商品 -->
    <div class="head">
        <div class="layui-input-inline">
            <label for="first_title" class="layui-form-label">配件编码</label>
            <div class="layui-input-block">
                <input type="text" name="" id="partsCodeQuery" class="layui-input" value="" />
            </div>
        </div>
        <div class="layui-input-inline">
            <label for="" class="layui-form-label">配件分类</label>
            <div class="layui-input-block">
                <ul>
                    <li class="title">
                    	<!-- onclick="showMenu('main')" -->
                       <input type="text" id="commodityName" placeholder="请选择分类" class="layui-input" onclick="showMenu('main')" readonly/>
                       <!--  <ul id="commodityName"></ul> -->
                    </li>
                </ul>
            </div>
            <div id="menuContent" class="menuContent">
                <ul id="commodityTree" class="ztree" style="margin-top:0; width:160px;"></ul>
            </div>
        </div>
        <div class="layui-input-inline">
            <label for="" class="layui-form-label">配件名称</label>
            <div class="layui-input-block">
                <input type="text" name="" id="partsNameQuery" class="layui-input" value="" />
            </div>
        </div>
        <div class="layui-input-inline lastchild">
            <label for="" class="layui-form-label">类型</label>
            <div class="layui-input-block">
                <select class="layui-select" id="partsTypeTop">
					<!-- 类型中的通用件和易损件的value值需要根据后台字段值设置 -->
					<option value="-1">全部</option>
					<option value="1">通用件</option>
					<option value="2">易损件</option>
				</select>
            </div>
        </div>
        <button id="searchCommodity" class="layui-btn">搜索</button>
        <button id="addCommodity" class="layui-btn layui-btn-normal" data-method="addCommodity">新增</button>
    </div>
    <!-- 商品分类信息展示 -->
    <div class="content">
        <div class="tableContainer">
            <table class="layui-table">
                <thead>
                    <tr>
                        <th>配件名称</th>
                        <th>一级分类</th>
                        <th>二级分类</th>
                        <th>三级分类</th>
                        <th>配件编码</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody class="parts_info">
                    <tr>
                        <td>过滤器</td>
                        <td>四滤产品</td>
                        <td>机油滤清器</td>
                        <td>旋装世滤清器</td>
                        <td>ddo39dkl3</td>
                        <td>
                            <button id="view" data-method="view" class="layui-btn">查看</button>
                            <button id="edit" data-method="edit" class="layui-btn layui-btn-normal">编辑</button>
                            <button id="isUse" class="layui-btn layui-btn-primary">上架</button>
                        </td>
                    </tr>
                    <tr>
                        <td>过滤器</td>
                        <td>四滤产品</td>
                        <td>机油滤清器</td>
                        <td>旋装世滤清器</td>
                        <td>ddo39dkl3</td>
                        <td>
                            <button id="view" data-method="view" class="layui-btn">查看</button>
                            <button id="edit" data-method="edit" class="layui-btn layui-btn-normal">编辑</button>
                            <button id="isUse" class="layui-btn layui-btn-warm">下架</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="pages" style="text-align: right;"></div>
    </div>
</div>

<!-- 弹框一：新增编辑查看 -->
<div id="commodityBox" class="commodityBox">
    <form id="form">
        <!-- 新增商品中的商品信息 -->
        <div class="head">
            <div class="layui-input-inline">
                <label for="" class="layui-form-label">配件名称</label>
                <div class="layui-input-block">
                    <input type="text" name="" id="partsName" class="layui-input" value="" />
                </div>
            </div>
            <div class="layui-input-inline">
                <label for="" class="layui-form-label">配件分类</label>
                <div class="layui-input-block">
                    <ul>
                        <li class="title">
                        		<!-- onclick="showMenu('model')" -->
                            <input type="text" id="cName" class="layui-input"  placeholder="请选择分类" onclick="showMenu('model')" readonly/>
                        </li>
                    </ul>
                </div>
                <div id="modelContent" class="menuContent">
                    <ul id="cTree" class="ztree" style="margin-top:0; width:160px;"></ul>
                </div>
            </div>
        </div>
        <div class="head">
            <div class="layui-input-inline">
                <label for="first_title" class="layui-form-label">厂家</label>
                <div class="layui-input-block">
                    <input type="text" name="" id="partsUnit" class="layui-input" value="" />
                </div>
            </div>
            <div class="layui-input-inline">
                <label for="" class="layui-form-label">类型*</label>
                <div class="layui-input-block">
                    <!-- 类型中的通用件和易损件的value值需要根据后台字段值设置 -->
                    <select class="layui-select" id="partsType">
                        <option value="1" selected>通用件</option>
                        <option value="2">易损件</option>
                    </select>
                </div>
            </div>
        </div>
        <!-- 新增商品中的商品详情 -->
        <div class="modelTableContainer">
            <table class="layui-table">
                <caption class="caption">
                    商品详情
                    <span id="addOption" class="newParam">+</span>
                </caption>
                <tbody>
                    <tr>
                        <td class="common">规格 *</td>
                        <td class="common"><input type="text" name="" id="partsSpec" class="layui-input" placeholder="请输入规格" value=""></td>
                        <td class="common">型号 *</td>
                        <td class="common"><input type="text" name="" id="partsModel" class="layui-input" placeholder="请输入型号" value=""></td>
                        <td class="common">品牌 *</td>
                        <td class="common partsBrands">
                            <select class="layui-select">
                                <option value="1" selected>品牌1</option>
                                <option value="2">品牌2</option>
                            </select>
                        </td>
                    </tr>
                    <tr class="common">
                        <td class="common">价格</td>
                        <td class="common"><input type="text" name="" id="price" class="layui-input" placeholder="请输入价格" value=""></td>
                        <td class="common">折扣</td>
                        <td class="common"><input type="text" name="" id="discount" class="layui-input" placeholder="请输入折扣" value=""></td>
                        <td class="common">现价</td>
                        <td class="common"><input type="text" name="" id="curPrice" class="layui-input" placeholder="请输入现价" value=""></td>
                    </tr>
                    <tr class="common">
                        <td class="common">产地</td>
                        <td class="common"><input type="text" name="" id="origin" class="layui-input" placeholder="请输入产地" value=""></td>
                        <td class="common">单位</td>
                        <td class="common"><input type="text" name="" id="partsFactory" class="layui-input" placeholder="请输入单位" value=""></td>
                        <td class="common">保质期</td>
                        <td class="common"><input type="text" name="" id="shelfLife" class="layui-input" placeholder="请输入保质期" value=""></td>
                    </tr>
                    <tr class="attrExtra">
                        <td colspan="2" class="paramGroup">
                            <input type="text" name="" class="layui-input paramName" placeholder="请输入参数名称">
                            <span></span>
                            <input type="text" name="" class="layui-input paramContent" placeholder="请输入内容">
                        </td>
                        <td colspan="2" class="paramGroup">
                            <input type="text" name="" class="layui-input paramName" placeholder="请输入参数名称">
                            <span></span>
                            <input type="text" name="" class="layui-input paramContent" placeholder="请输入内容">
                        </td>
                        <td colspan="2" class="paramGroup">
                            <input type="text" name="" class="layui-input paramName" placeholder="请输入参数名称">
                            <span></span>
                            <input type="text" name="" class="layui-input paramContent" placeholder="请输入内容">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- 新增商品中的商品图片 -->
        <p class="uploadImgTitle">上传图片</p>
        <div class="uploadImg">
            <!-- 注意： -->
            <!-- 1。 每个img标签的id都不一样，新出现的图片id要重新给定一个唯一值 -->
            <!-- 2。 每个inpug标签的id也都不一样，新出现的图片上传框id也要重新给定一个唯一值 -->
            <!-- 3。 如果img的id和input的id重新定义了，请在js中的layui.upload方法中同步更改 -->
            <!-- <div class="siteUpload">
                <img id="commodityImgUrl" src="">
                <div class="layui-box layui-upload-button">
                    <input type="file" name="image" class="commodityImg" class="layui-upload-file" accept="image/*">
                    <span class="layui-upload-icon"><i class="layui-icon">&#xe61f;</i>上传图片</span>
                </div>
            </div> -->
            <div class="siteUpload">
                <img id="commodityImgUrl" src="">
                <div class="layui-box layui-upload-button">
                    <input type="file" name="image" class="commodityImg" class="layui-upload-file" onchange="change(this)" accept="image/*" value="1">
                    <span class="layui-upload-icon"><i class="layui-icon">&#xe61f;</i>第一个上传图片</span>
                </div>
            </div>
            
        </div>
        <!-- 新增商品中的否上架选项 -->
        <div class="state">
            <label class="layui-form-label">是否上架</label>
            <div class="layui-input-block">
                <input type="radio" name="isUnable" value="1" checked>是
                <input type="radio" name="isUnable" value="0">否
            </div>
        </div>
    </form>
</div>
<!-- 弹框二：上下架提示 -->
<div id="commodityState" class="commodityState">
    是否确认<span id="chooseState"></span>?
</div>
<!-- 文件上传 -->
<script src="js/upload.js"></script>
<script src="js/jquery-3.2.1.min.js"></script>
<script src="common/zTree/js/jquery.ztree.core.js"></script>
<script src="CommodityManagement/CommodityManage/CommodityManage.js"></script>