<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		
		<link rel="stylesheet" type="text/css" href="../css/app.css" />
		<style type="text/css">
			/*tab主体内容*/
			.account-content {
				text-align: center;
				overflow: hidden;
				width: 100%;
			}
			
			.send-msg {
				margin-top: 25px;
			}
			
			.send-msg input {
				width: 42%;
			}
			
			/*验证码六个框*/
			.mui-input-row .input-cont {
				display: inline-block;
				vertical-align: top;
				margin-top: 25px;
				width: calc(100%/7);
				height: 40px;
				line-height: 40px;
				border: 1px solid #555555;
				text-align: center;
				border-radius: 5px;
				border: 1px solid #399CF1;
			}
			
			/*确定按钮*/
			.btn-sure button {
				margin-top: 20px;
			}
			
			/*修改密码：隐藏的验证码框*/
			#pass-input,
			#account-input {
				position: absolute;
				border: none;
				background: transparent;
				color: transparent;
				z-index: 10;
			}
		</style>
	</head>

	<body>
		<!-- 主界面不动、菜单移动 -->
		<!-- 侧滑导航根容器 -->
		<div class="mui-off-canvas-wrap mui-draggable mui-slide-in">
			<!-- 主页面容器 -->
			<div class="mui-inner-wrap">
				<!-- 主页面标题 -->
				<!--<header class="mui-bar mui-bar-nav">
					<a href="" class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color:#000;"></a>
					<h1 class="mui-title">管理员账号</h1>
				</header>-->
				<div class="mui-content mui-scroll-wrapper">
					<div class="mui-scroll">
						<!-- 主界面具体展示内容 -->
						<div style="padding: 10px 10px;">
							<div id="segmentedControl" class="mui-segmented-control mt-1">
								<a class="mui-control-item mui-active" href="#item1mobile"> 修改密码
								</a>
								<a class="mui-control-item" href="#item2mobile">
									修改账号
								</a>
							</div>
						</div>

						<div id="item1mobile" class="mui-control-content mui-active">
							<ul class="mui-table-view">
								<li class="mui-table-view-cell account-content">
									<p class="send-msg">向手机号：17989898888&nbsp;&nbsp;&nbsp;&nbsp;
										<a href="#" id="sendMsg-pass">发送验证码</a>
									</p>
									<form>
										<div class="mui-input-row">
											<input type="number" name="" oninput="if(value.length>6)value=value.slice(0,6)" id="pass-input" value="" />
										</div>
										<div class="mui-input-row">
											<!--<input id="first-pass-input" class="input-cont" maxlength="1" type="text" name="" value="" />-->
											<div id="first-pass-input" class="input-cont"></div>
											<div id="two-pass-input" class="input-cont"></div>
											<div id="three-pass-input" class="input-cont"></div>
											<div id="four-pass-input" class="input-cont"></div>
											<div id="five-pass-input" class="input-cont"></div>
											<div id="six-pass-input" class="input-cont"></div>
											<!--<input id="first-pass-input" class="input-cont" maxlength="1" type="text" name="" value="" />
												<input id="two-pass-input" class="input-cont" maxlength="1" type="text" name="" value="" />
												<input id="three-pass-input" class="input-cont" maxlength="1" type="text" name="" value="" />
												<input id="four-pass-input" class="input-cont" maxlength="1" type="text" name="" value="" />
												<input id="five-pass-input" class="input-cont" maxlength="1" type="text" name="" value="" />
												<input id="six-pass-input" class="input-cont" maxlength="1" type="text" name="" value="" />-->
										</div>
									</form>
									<div class="btn-sure">
										<button id="btn-submit" type="button" class="mui-btn mui-btn-primary">确定</button>
									</div>
								</li>
							</ul>
						</div>
						<div id="item2mobile" class="mui-control-content">
							<ul class="mui-table-view">
								<li class="mui-table-view-cell account-content">
									<p class="send-msg">新的手机号：
										<input type="number" oninput="if(value.length>11)value=value.slice(0,11)" name="" id="newMobile" value="" onblur="validateMobile()" />
										<a href="#" id="sendMsg-account">发送验证码</a>
									</p>
									<form>
										<div class="mui-input-row">
											<input type="text" name="" oninput="if(value.length>6)value=value.slice(0,6)" id="account-input" value="" />
										</div>
										<div class="mui-input-row">
											<div id="first-account-input" class="input-cont"></div>
											<div id="two-account-input" class="input-cont"></div>
											<div id="three-account-input" class="input-cont"></div>
											<div id="four-account-input" class="input-cont"></div>
											<div id="five-account-input" class="input-cont"></div>
											<div id="six-account-input" class="input-cont"></div>
										</div>
									</form>
									<div class="btn-sure">
										<button type="button" class="mui-btn mui-btn-primary">确定</button>
									</div>
								</li>
							</ul>
						</div>

					</div>
				</div>
				<div class="mui-off-canvas-backdrop"></div>
			</div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init({
				swipeBack: true
			}); //启用右滑关闭功能 
			mui('.mui-scroll-wrapper').scroll({
				deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
			});
			//设置新密码页面
			document.getElementById('btn-submit').addEventListener('tap', function(event) {
				var target = event.target;
				var w = plus.nativeUI.showWaiting('加载中...');
				var webview = null;
				//跳转设置新密码页面
				webview = plus.webview.create('resetPass.html', 'resetPass', {
					titleNView: {
						titleText: '设置新密码',
						autoBackButton: 'true',
						backgroundColor: '#2F2C2F',
						titlecolor: "#ffffff",
					}
				});
				webview.addEventListener('loaded', function() {
					webview.show('slide-in-right'); // 显示窗口
					w.close();
					w = null;
				}, false);
			});
			//修改密码
			document.getElementById('sendMsg-pass').addEventListener('tap', function() {
				console.log('发送验证码');
				document.getElementById('pass-input').focus();
			});
			document.getElementById('pass-input').addEventListener('keyup', function() {
				var sendPassMsg = document.getElementById('pass-input').value;
				if(sendPassMsg.length >= 0) {
					var passMsg = [];
					for(var i = 0; i < sendPassMsg.length; i++) {
						passMsg.push(sendPassMsg[i]);
					}
					console.log(passMsg);
					passMsg[0] == undefined ? document.getElementById('first-pass-input').innerHTML = '' : document.getElementById('first-pass-input').innerHTML = passMsg[0];
					passMsg[1] == undefined ? document.getElementById('two-pass-input').innerHTML = '' : document.getElementById('two-pass-input').innerHTML = passMsg[1];
					passMsg[2] == undefined ? document.getElementById('three-pass-input').innerHTML = '' : document.getElementById('three-pass-input').innerHTML = passMsg[2];
					passMsg[3] == undefined ? document.getElementById('four-pass-input').innerHTML = '' : document.getElementById('four-pass-input').innerHTML = passMsg[3];
					passMsg[4] == undefined ? document.getElementById('five-pass-input').innerHTML = '' : document.getElementById('five-pass-input').innerHTML = passMsg[4];
					passMsg[5] == undefined ? document.getElementById('six-pass-input').innerHTML = '' : document.getElementById('six-pass-input').innerHTML = passMsg[5];
				}
			});
			document.getElementById('first-pass-input').addEventListener('tap', function() {
				document.getElementById('pass-input').focus();
			});
			//修改账号
			document.getElementById('sendMsg-account').addEventListener('tap', function() {
				console.log('发送验证码');
				document.getElementById('account-input').focus();
			});
			document.getElementById('account-input').addEventListener('keyup', function() {
				var sendAccountMsg = document.getElementById('account-input').value;
				if(sendAccountMsg.length >= 0) {
					var accountMsg = [];
					for(var i = 0; i < sendAccountMsg.length; i++) {
						accountMsg.push(sendAccountMsg[i]);
					}
					console.log(accountMsg);
					accountMsg[0] == undefined ? document.getElementById('first-account-input').innerHTML = '' : document.getElementById('first-account-input').innerHTML = accountMsg[0];
					accountMsg[1] == undefined ? document.getElementById('two-account-input').innerHTML = '' : document.getElementById('two-account-input').innerHTML = accountMsg[1];
					accountMsg[2] == undefined ? document.getElementById('three-account-input').innerHTML = '' : document.getElementById('three-account-input').innerHTML = accountMsg[2];
					accountMsg[3] == undefined ? document.getElementById('four-account-input').innerHTML = '' : document.getElementById('four-account-input').innerHTML = accountMsg[3];
					accountMsg[4] == undefined ? document.getElementById('five-account-input').innerHTML = '' : document.getElementById('five-account-input').innerHTML = accountMsg[4];
					accountMsg[5] == undefined ? document.getElementById('six-account-input').innerHTML = '' : document.getElementById('six-account-input').innerHTML = accountMsg[5];
				}
			});
			document.getElementById('first-account-input').addEventListener('tap', function() {
				document.getElementById('account-input').focus();
			});
			//修改账号：验证手机号
			function validateMobile(){
				var phone = document.getElementById('newMobile').value;
		        if(!(/^1[34578]\d{9}$/.test(phone))){  
		            mui.toast('手机号码有误，请重填',{ duration:'long', type:'div' });
		            document.getElementById('newMobile').value = '';
		            return false; 
		        } 
			}
		</script>
	</body>

</html>