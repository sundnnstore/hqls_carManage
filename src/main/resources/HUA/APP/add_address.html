<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="../css/app.css"/>
		
	</head>
	<body>
		<div class="mui-content">
			<form class="mui-input-group mui-table-view">
			    <div class="mui-input-row">
			        <label>收件人</label>
			        <input type="text" class="mui-input-clear" id="recipients" placeholder="请输入收件人姓名">
			    </div>
			    <div class="mui-input-row">
			        <label>联系方式</label>
			        <input type="text" class="mui-input-clear" id="phone" placeholder="请输入收件人联系方式">
			    </div>
			    <div class="mui-input-row">
			    	<a class="mui-navigate-right"></a>
			        <label>省市区</label>
			        <input type="text" class="mui-input-clear " placeholder="请输入省市区" id="J_Address">
			    </div>
			    <div class="mui-input-row">
			        <label>详细地址</label>
			        <input type="text" class="mui-input-clear" id="address" placeholder="请输入详细地址如街道门牌号企业名称">
			    </div>
			</form>
		</div>
		<script type="text/javascript" src="../js/jquery-2.1.0.js"></script>
		<script src="../js/mui.min.js"></script>
		<script src="../js/ydui.citys.js"></script>
		<script src="../js/ydui.js"></script>
		
		<script type="text/javascript">
			mui.init({
				swipeBack:true
			});
			 //收件人和手机号码验证
			function confirm(){
				var phone = document.getElementById('phone').value;
			   	var recipients = document.getElementById('recipients').value;
			   	var city = document.getElementById('J_Address').value;
			   	var address = document.getElementById('address').value;
			   	var regName =/^[\u4e00-\u9fa5]{2,4}$/;
				if(!regName.test(recipients)){
				  mui.toast('请填写收件人姓名');
			    	return false; 
				}
			   if(!(/^1[34578]\d{9}$/.test(phone))){ 
			    	mui.toast('联系方式有误，请重新填写');
			        return false; 
			   }
			   if(!(/\S/.test(city))||!(/\S/.test(address))){
			   	 mui.toast('请完善地址信息');
			   	 return false;
			   }
			  
			   //验证通过跳转收货地址页面
			   	mui.toast('验证通过');
			   	mui.currentWebview.close();//关闭当前页面 可能会导致当前webview被销毁
			    mui.back();//返回上一页
        
//		    	var wv = null;
//				wv = plus.webview.create('delivery_address.html', 'delivery_address', {
//					titleNView: {
//						titleText: '收货地址',
//						autoBackButton: 'true',
//						backgroundColor: '#2F2C2F',
//						titlecolor: "#ffffff",
//						progress: {
//							color: '#c91e1c'
//						}
//					}
//				});
//				wv && wv.show('slide-in-right');
			}

			//省市区
			 var $address = $('#J_Address');
			    $address.citySelect();
			    $address.on('click', function () {
			    	document.activeElement.blur(); //阻止软键盘弹出
			        $address.citySelect('open');
			    });
			    $address.on('done.ydui.cityselect', function (ret) {
			        $(this).val(ret.provance + ' ' + ret.city + ' ' + ret.area);
			    });
		</script>	
	</body>
</html>
